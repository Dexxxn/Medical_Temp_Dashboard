<!DOCTYPE html>
<html lang="en" >
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
	<title>Medical Dashboard</title>
	<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;700;900&display=swap" rel="stylesheet"/>
	<link rel="stylesheet" href="{{ url_for('static', filename='css/tailwind.css') }}">
	
	<script src="https://cdn.jsdelivr.net/gh/alpine-collective/alpine-magic-helpers@0.5.x/dist/component.min.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.7.3/dist/alpine.min.js" defer></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://kit.fontawesome.com/0f537ad086.js" crossorigin="anonymous"></script>
	<script src="{{url_for('static', filename='/js/weather.js')}}" type="text/javascript"></script>
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=493aae5a0be28c45345be5abc6bc3af7"></script>
</head>
<body>
<div x-data="setup()" x-init="$refs.loading.classList.add('hidden'); setColors(color);" :class="{ 'dark': isDark}">
	<div class="flex h-screen antialiased text-gray-900 bg-gray-100 dark:bg-dark dark:text-light">
		<!-- Loading screen -->
		<div x-ref="loading" class="fixed inset-0 z-50 flex items-center justify-center text-2xl font-semibold text-white bg-primary-darker">
			 Loading.....
		</div>

		<div class="flex-1 h-full overflow-x-hidden overflow-y-auto">
			<!-- Navbar -->
			<header class="relative bg-white dark:bg-darker">
			<div class="flex items-center justify-between p-2 border-b dark:border-primary-darker">
				<!-- Mobile menu button -->
				<button @click="isMobileMainMenuOpen=!isMobileMainMenuOpen" class="p-1 transition-colors duration-200 rounded-md text-primary-lighter bg-primary-50 hover:text-primary hover:bg-primary-100 dark:hover:text-light dark:hover:bg-primary-dark dark:bg-dark md:hidden focus:outline-none focus:ring">
				<span class="sr-only">Open main manu</span>
				<span aria-hidden="true">
				<svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
				</svg>
				</span>
				</button>
				<!-- Brand -->
				<div style="display: flex;">
				<a href="/vaccine" class="inline-block text-2xl font-bold tracking-wider uppercase dark:text-primary-light" style="margin-right: 20px;">
					Vaccine
				</a>
				<a href="/blood" class="inline-block text-2xl font-bold tracking-wider uppercase">
					Blood
				</a>
				</div>
				<!-- Mobile sub menu button -->
				<button @click="isMobileSubMenuOpen=!isMobileSubMenuOpen" class="p-1 transition-colors duration-200 rounded-md text-primary-lighter bg-primary-50 hover:text-primary hover:bg-primary-100 dark:hover:text-light dark:hover:bg-primary-dark dark:bg-dark md:hidden focus:outline-none focus:ring">
				<span class="sr-only">Open sub manu</span>
				<span aria-hidden="true">
				<svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/>
				</svg>
				</span>
				</button>
				<!-- Desktop Right buttons -->
				<nav aria-label="Secondary" class="hidden space-x-2 md:flex md:items-center">
				<!-- Toggle dark theme button -->
				<button aria-hidden="true" class="relative focus:outline-none" x-cloak @click="toggleTheme">
				<div class="w-12 h-6 transition rounded-full outline-none bg-primary-100 dark:bg-primary-lighter">
				</div>
				<div class="absolute top-0 left-0 inline-flex items-center justify-center w-6 h-6 transition-all duration-150 transform scale-110 rounded-full shadow-sm" :class="{ 'translate-x-0 -translate-y-px bg-white text-primary-dark': !isDark, 'translate-x-6 text-primary-100 bg-primary-darker': isDark }">
					<svg x-show="!isDark" class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
					</svg>
					<svg x-show="isDark" class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
					</svg>
				</div>
				</button>
				<!-- Settings button -->
				<button @click="openSettingsPanel" class="p-2 transition-colors duration-200 rounded-full text-primary-lighter bg-primary-50 hover:text-primary hover:bg-primary-100 dark:hover:text-light dark:hover:bg-primary-dark dark:bg-dark focus:outline-none focus:bg-primary-100 dark:focus:bg-primary-dark focus:ring-primary-darker">
				<span class="sr-only">Open settings panel</span>
				<svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor" aria-hidden="true">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
				</svg>
				</button>
				</nav>
				<!-- Mobile sub menu -->
				<nav x-transition:enter="transition duration-200 ease-in-out transform sm:duration-500" x-transition:enter-start="-translate-y-full opacity-0" x-transition:enter-end="translate-y-0 opacity-100" x-transition:leave="transition duration-300 ease-in-out transform sm:duration-500" x-transition:leave-start="translate-y-0 opacity-100" x-transition:leave-end="-translate-y-full opacity-0" x-show="isMobileSubMenuOpen" @click.away="isMobileSubMenuOpen=false" class="absolute flex items-center p-4 bg-white rounded-md shadow-lg dark:bg-darker top-16 inset-x-4 md:hidden" aria-label="Secondary">
				<div class="space-x-2">
					<!-- Toggle dark theme button -->
					<button aria-hidden="true" class="relative focus:outline-none" x-cloak @click="toggleTheme">
					<div class="w-12 h-6 transition rounded-full outline-none bg-primary-100 dark:bg-primary-lighter">
					</div>
					<div class="absolute top-0 left-0 inline-flex items-center justify-center w-6 h-6 transition-all duration-200 transform scale-110 rounded-full shadow-sm" :class="{ 'translate-x-0 -translate-y-px bg-white text-primary-dark': !isDark, 'translate-x-6 text-primary-100 bg-primary-darker': isDark }">
						<svg x-show="!isDark" class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
						</svg>
						<svg x-show="isDark" class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
						</svg>
					</div>
					</button>
					<!-- Settings button -->
					<button @click="openSettingsPanel(); $nexttick(()> { isMobileSubMenuOpen = false })" class="p-2 transition-colors duration-200 rounded-full text-primary-lighter bg-primary-50 hover:text-primary hover:bg-primary-100 dark:hover:text-light dark:hover:bg-primary-dark dark:bg-dark focus:outline-none focus:bg-primary-100 dark:focus:bg-primary-dark focus:ring-primary-darker" > <span class="sr-only">Open settings panel</span>
					<svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
					</svg>
					</button>
				</div>
				</nav>
			</div>
			<!-- Mobile main manu -->
			<div class="border-b md:hidden dark:border-primary-darker" x-show="isMobileMainMenuOpen" @click.away="isMobileMainMenuOpen=false">
				<nav aria-label="Main" class="px-2 py-4 space-y-2">
				<!-- Dashboards links -->
				<div x-data="{ isActive: true, open: true}">
					<!-- active & hover classes 'bg-primary-100 dark:bg-primary' -->
					<a href="#" @click="$event.preventDefault(); open=!open" class="flex items-center p-2 text-gray-500 transition-colors rounded-md dark:text-light hover:bg-primary-100 dark:hover:bg-primary" :class="{'bg-primary-100 dark:bg-primary': isActive || open}" role="button" aria-haspopup="true" :aria-expanded="(open || isActive) ? 'true' : 'false'">
					<span aria-hidden="true">
					<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
					</svg>
					</span>
					<span class="ml-2 text-sm"> K-WD </span>
					<span class="ml-auto" aria-hidden="true">
					<!-- active class 'rotate-180' -->
					<svg class="w-4 h-4 transition-transform transform" :class="{ 'rotate-180': open }" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
					</svg>
					</span>
					</a>
				</div>
				</nav>
			</div>
			</header>
			<!-- Main content -->
			<main>
			<!-- Content header -->
			<div class="flex items-center justify-between px-4 py-4 border-b lg:py-6 dark:border-primary-darker">
				<h1 class="text-2xl font-semibold"><span id="item">아스트라제네카</span> 냉장고</h1>
<!-- 						<div class="flex items-center">
								<button class="relative focus:outline-none" @click="isOn=!isOn; $parent.updateDoughnutChart(isOn)">
								<div class="w-12 h-6 transition rounded-full outline-none bg-primary-100 dark:bg-primary-darker">
								</div>
								<div class="absolute top-0 left-0 inline-flex items-center justify-center w-6 h-6 transition-all duration-200 ease-in-out transform scale-110 rounded-full shadow-sm translate-x-0 bg-white dark:bg-primary-100" :class="{ 'translate-x-0 bg-white dark:bg-primary-100': !isOn, 'translate-x-6 bg-primary-light dark:bg-primary': isOn }">
								</div>
								</button>
							</div> -->
				<a href="https://github.com/Dexxxn/Medical_Temp_Dashboard" target="_blank" class="px-4 py-2 text-sm text-white rounded-md bg-primary hover:bg-primary-dark focus:outline-none focus:ring focus:ring-primary focus:ring-offset-1 focus:ring-offset-white dark:focus:ring-offset-dark">
				View On Github </a>
			</div>
			
			<!-- Content -->
			<div class="mt-2">
				<!-- State cards -->
				<div class="grid grid-cols-1 gap-8 p-4 lg:grid-cols-2 xl:grid-cols-4">
					<!-- 적정 보관 온도 -->
					<div class="flex items-center justify-between p-4 bg-white rounded-md dark:bg-darker">
						<div>
							<h6 class="text-xs font-medium leading-none tracking-wider text-gray-500 uppercase dark:text-primary-light">
							Proper Temperature </h6>
							<span class="text-xl font-semibold">2°C ~ 8°C</span>
						</div>
						<div>
							<span>
								<i class="fa-solid fa-temperature-low"></i>
							</span>
						</div>
					</div>
					<!-- 백신 보관 수 -->
					<div class="flex items-center justify-between p-4 bg-white rounded-md dark:bg-darker">
						<div>
							<h6 class="text-xs font-medium leading-none tracking-wider text-gray-500 uppercase dark:text-primary-light">
							Total </h6>
							<span class="text-xl font-semibold">336</span>
						</div>
						<div>
							<span>
								<i class="fas fa-solid fa-syringe"></i>
							</span>
						</div>
					</div>
					<!-- 당일 접종 예약 건수 -->
					<div class="flex items-center justify-between p-4 bg-white rounded-md dark:bg-darker">
						<div>
							<h6 class="text-xs font-medium leading-none tracking-wider text-gray-500 uppercase dark:text-primary-light">
							Today Reservation </h6>
							<span class="text-xl font-semibold">29</span>
						</div>
						<div>
							<span>
								<i class="fa-regular fa-calendar-check"></i>
							</span>
						</div>
					</div>
					<!-- 오늘 날씨 API -->
					<div class="flex items-center justify-between p-4 bg-white rounded-md dark:bg-darker">
						<div>
							<h6 class="text-xs font-medium leading-none tracking-wider text-gray-500 uppercase dark:text-primary-light">
							날씨 API </h6>
							<span class="text-xl font-semibold">				
							<!-- 날씨 -->				
									<!-- <div class="weather_API"> -->
										<span class="CurrIcon"></span>
										<span class="City"></span><br>
										<span class="CurrTemp">현재: </span><span style="color:#5D5D5D"> / </span>
										<span class="LowTemp">최저: </span><span style="color:#5D5D5D"> / </span>
										<span class="HighTemp">최고: </span>
									<!-- </div> -->
							</span>
							<span class="inline-block px-2 py-px ml-2 text-xs text-green-500 bg-green-100 rounded-md">
							+3.1% </span>
						</div>
						<div>
							<span>
								<i class="fa-solid fa-cloud-sun"></i>
							</span>
						</div>
					</div>
				</div>
				<!-- Two grid columns -->
				<div class="grid grid-cols-1 p-4 space-y-8 lg:gap-8 lg:space-y-0 lg:grid-cols-3">
					<!-- Active users chart -->
					<div class="col-span-1 bg-white rounded-md dark:bg-darker">
						<!-- Card header -->
						<div class="p-4 border-b dark:border-primary">
							<h4 class="text-lg font-semibold text-gray-500 dark:text-light">실시간 온도(CHART)</h4>
						</div>
						<div id="vaccine_temp_indicator">
							<p class="p-4">
								<span class="text-2xl font-medium text-gray-500 dark:text-light" id="tempCount">0</span>
								<span class="text-sm font-medium text-gray-500 dark:text-primary">°C</span>
							</p>
							<p id="vaccine_avg_temp">
								<span class="text-sm font-medium text-gray-500 dark:text-primary">avg</span>
								<span class="text-2xl font-medium text-gray-500 dark:text-light" id="average_temp">{{average_temp}}</span>
								<span class="text-sm font-medium text-gray-500 dark:text-primary">°C</span>
							</p>
						</div>
						<!-- Chart -->
						<div class="relative p-4">
							<canvas id="tempCountChart"></canvas>
						</div>
					</div>
					<!-- Line chart card -->
					<div class="col-span-2 bg-white rounded-md dark:bg-darker" x-data="{ isOn: false }">
						<!-- Card header -->
						<div class="flex items-center justify-between p-4 border-b dark:border-primary">
							<h4 class="text-lg font-semibold text-gray-500 dark:text-light">실시간 온도(TABLE)</h4>
							<div class="flex items-center">
								<i class="fa-solid fa-rotate-right fa-lg"></i>
							</div>
						</div>
						<!-- 테이블 -->
						<div style="margin: 20px; height: 250px;">
							<div class="tbl-header">
							  <table>
							    <thead>
							      <tr>
							        <th>측정 시간</th>
							        <th>측정 데이터</th>
							        <th>측정 결과</th>
							      </tr>
							    </thead>
							  </table>
							</div>
							<div class="tbl-content">
							  <table id="tempTable">
							    <tbody>

							    </tbody>
							  </table>
							</div>
						</div>
					</div>
				</div>
				<!-- GPS -->
				<div class="grid grid-cols-1 p-4 space-y-8 lg:gap-8 lg:space-y-0 lg:grid-cols-4">
					<!-- Bar chart card -->
					<div class="col-span-2 bg-white rounded-md dark:bg-darker" x-data="{ isOn: false }">
						<!-- Card header -->
						<div class="flex items-center justify-between p-4 border-b dark:border-primary">
							<h4 class="text-lg font-semibold text-gray-500 dark:text-light">GPS</h4>
							<div class="flex items-center space-x-2">
								<span class="text-sm text-gray-500 dark:text-light">Last year</span>
								<button class="relative focus:outline-none" x-cloak @click="isOn=!isOn; $parent.updateBarChart(isOn)">
								<div class="w-12 h-6 transition rounded-full outline-none bg-primary-100 dark:bg-primary-darker">
								</div>
								<div class="absolute top-0 left-0 inline-flex items-center justify-center w-6 h-6 transition-all duration-200 ease-in-out transform scale-110 rounded-full shadow-sm" :class="{ 'translate-x-0 bg-white dark:bg-primary-100': !isOn, 'translate-x-6 bg-primary-light dark:bg-primary': isOn }">
								</div>
								</button>
							</div>
						</div>
						<!-- Chart -->
						<div class="relative p-4 h-72">
							<div id="gpsContainer">
								<div class="gpsItem">입고 날짜<div>2023-05-23</div></div>
								<div class="gpsItem">도착 예정 시간<div>14:00~15:00</div></div>
								<div class="gpsItem">이동 중 온도<div>3.6</div></div>
								<div class="gpsItem">입고 수량<div>500</div></div>
								<div class="gpsItem">책임자<div>이성언</div></div>
							</div>
						</div>
					</div>
					<!-- GPS -->
					<div class="col-span-2 bg-white rounded-md dark:bg-darker" x-data="{ isOn: false }">
						<!-- Card header -->
						<div class="flex items-center justify-between p-4 border-b dark:border-primary">
							<h4 class="text-lg font-semibold text-gray-500 dark:text-light">GPS</h4>
							<div class="flex items-center">
								<button class="relative focus:outline-none" x-cloak @click="isOn=!isOn; $parent.updateDoughnutChart(isOn)">
								<div class="w-12 h-6 transition rounded-full outline-none bg-primary-100 dark:bg-primary-darker">
								</div>
								<div class="absolute top-0 left-0 inline-flex items-center justify-center w-6 h-6 transition-all duration-200 ease-in-out transform scale-110 rounded-full shadow-sm" :class="{ 'translate-x-0 bg-white dark:bg-primary-100': !isOn, 'translate-x-6 bg-primary-light dark:bg-primary': isOn }">
								</div>
								</button>
							</div>
						</div>
						<!-- Chart -->
						<div class="relative p-4 h-72">
							<div id="map" style="width:900px;height:250px;"></div>
							<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=493aae5a0be28c45345be5abc6bc3af7"></script>
							<script>
								var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
									mapOption = { 
										center: new kakao.maps.LatLng(35.5421, 129.3382),
										level: 3 // 지도의 확대 레벨
									};

								var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다
								var startSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/red_b.png', // 출발 마커이미지의 주소입니다    
									startSize = new kakao.maps.Size(50, 45), // 출발 마커이미지의 크기입니다 
									startOption = { 
										offset: new kakao.maps.Point(15, 43) // 출발 마커이미지에서 마커의 좌표에 일치시킬 좌표를 설정합니다 (기본값은 이미지의 가운데 아래입니다)
									};

								// 출발 마커 이미지를 생성합니다
								var startImage = new kakao.maps.MarkerImage(startSrc, startSize, startOption);

								var startDragSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/red_drag.png', // 출발 마커의 드래그 이미지 주소입니다    
									startDragSize = new kakao.maps.Size(50, 64), // 출발 마커의 드래그 이미지 크기입니다 
									startDragOption = { 
										offset: new kakao.maps.Point(15, 54) // 출발 마커의 드래그 이미지에서 마커의 좌표에 일치시킬 좌표를 설정합니다 (기본값은 이미지의 가운데 아래입니다)
									};

								// 출발 마커의 드래그 이미지를 생성합니다
								var startDragImage = new kakao.maps.MarkerImage(startDragSrc, startDragSize, startDragOption);

								// 출발 마커가 표시될 위치입니다 
								var startPosition = new kakao.maps.LatLng(35.5421, 129.3382); 

								// 출발 마커를 생성합니다
								var startMarker = new kakao.maps.Marker({
									map: map, // 출발 마커가 지도 위에 표시되도록 설정합니다
									position: startPosition,
									draggable: true, // 출발 마커가 드래그 가능하도록 설정합니다
									image: startImage // 출발 마커이미지를 설정합니다
								});

								// 출발 마커에 dragstart 이벤트를 등록합니다
								kakao.maps.event.addListener(startMarker, 'dragstart', function() {
									// 출발 마커의 드래그가 시작될 때 마커 이미지를 변경합니다
									startMarker.setImage(startDragImage);
								});

								// 출발 마커에 dragend 이벤트를 등록합니다
								kakao.maps.event.addListener(startMarker, 'dragend', function() {
									// 출발 마커의 드래그가 종료될 때 마커 이미지를 원래 이미지로 변경합니다
									startMarker.setImage(startImage);
								});

								var arriveSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/blue_b.png', // 도착 마커이미지 주소입니다    
								arriveSize = new kakao.maps.Size(50, 45), // 도착 마커이미지의 크기입니다 
								arriveOption = { 
									offset: new kakao.maps.Point(15, 43) // 도착 마커이미지에서 마커의 좌표에 일치시킬 좌표를 설정합니다 (기본값은 이미지의 가운데 아래입니다)
								};

								// 도착 마커 이미지를 생성합니다
								var arriveImage = new kakao.maps.MarkerImage(arriveSrc, arriveSize, arriveOption);

								var arriveDragSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/blue_drag.png', // 도착 마커의 드래그 이미지 주소입니다    
									arriveDragSize = new kakao.maps.Size(50, 64), // 도착 마커의 드래그 이미지 크기입니다 
									arriveDragOption = { 
										offset: new kakao.maps.Point(15, 54) // 도착 마커의 드래그 이미지에서 마커의 좌표에 일치시킬 좌표를 설정합니다 (기본값은 이미지의 가운데 아래입니다)
									};
								
								// 도착 마커의 드래그 이미지를 생성합니다
								var arriveDragImage = new kakao.maps.MarkerImage(arriveDragSrc, arriveDragSize, arriveDragOption);

								// 도착 마커가 표시될 위치입니다 
								var arrivePosition = new kakao.maps.LatLng(35.5416, 129.339);    
								
								// 도착 마커를 생성합니다 
								var arriveMarker = new kakao.maps.Marker({  
									map: map, // 도착 마커가 지도 위에 표시되도록 설정합니다
									position: arrivePosition,
									draggable: true, // 도착 마커가 드래그 가능하도록 설정합니다
									image: arriveImage // 도착 마커이미지를 설정합니다
								});

								// 도착 마커에 dragstart 이벤트를 등록합니다
								kakao.maps.event.addListener(arriveMarker, 'dragstart', function() {
									// 도착 마커의 드래그가 시작될 때 마커 이미지를 변경합니다
									arriveMarker.setImage(arriveDragImage);
								});

								// 도착 마커에 dragend 이벤트를 등록합니다
								kakao.maps.event.addListener(arriveMarker, 'dragend', function() {
									// 도착 마커의 드래그가 종료될 때 마커 이미지를 원래 이미지로 변경합니다
									arriveMarker.setImage(arriveImage);  
								});
								var drawingFlag = false; // 선이 그려지고 있는 상태를 가지고 있을 변수입니다
								var moveLine; // 선이 그려지고 있을때 마우스 움직임에 따라 그려질 선 객체 입니다
								var clickLine // 마우스로 클릭한 좌표로 그려질 선 객체입니다
								var distanceOverlay; // 선의 거리정보를 표시할 커스텀오버레이 입니다
								var dots = {}; // 선이 그려지고 있을때 클릭할 때마다 클릭 지점과 거리를 표시하는 커스텀 오버레이 배열입니다.

								// 지도에 클릭 이벤트를 등록합니다
								// 지도를 클릭하면 선 그리기가 시작됩니다 그려진 선이 있으면 지우고 다시 그립니다
								kakao.maps.event.addListener(map, 'click', function(mouseEvent) {

									// 마우스로 클릭한 위치입니다 
									var clickPosition = mouseEvent.latLng;

									// 지도 클릭이벤트가 발생했는데 선을 그리고있는 상태가 아니면
									if (!drawingFlag) {

										// 상태를 true로, 선이 그리고있는 상태로 변경합니다
										drawingFlag = true;
										
										// 지도 위에 선이 표시되고 있다면 지도에서 제거합니다
										deleteClickLine();
										
										// 지도 위에 커스텀오버레이가 표시되고 있다면 지도에서 제거합니다
										deleteDistnce();

										// 지도 위에 선을 그리기 위해 클릭한 지점과 해당 지점의 거리정보가 표시되고 있다면 지도에서 제거합니다
										deleteCircleDot();
									
										// 클릭한 위치를 기준으로 선을 생성하고 지도위에 표시합니다
										clickLine = new kakao.maps.Polyline({
											map: map, // 선을 표시할 지도입니다 
											path: [clickPosition], // 선을 구성하는 좌표 배열입니다 클릭한 위치를 넣어줍니다
											strokeWeight: 3, // 선의 두께입니다 
											strokeColor: '#db4040', // 선의 색깔입니다
											strokeOpacity: 1, // 선의 불투명도입니다 0에서 1 사이값이며 0에 가까울수록 투명합니다
											strokeStyle: 'solid' // 선의 스타일입니다
										});
										
										// 선이 그려지고 있을 때 마우스 움직임에 따라 선이 그려질 위치를 표시할 선을 생성합니다
										moveLine = new kakao.maps.Polyline({
											strokeWeight: 3, // 선의 두께입니다 
											strokeColor: '#db4040', // 선의 색깔입니다
											strokeOpacity: 0.5, // 선의 불투명도입니다 0에서 1 사이값이며 0에 가까울수록 투명합니다
											strokeStyle: 'solid' // 선의 스타일입니다    
										});
									
										// 클릭한 지점에 대한 정보를 지도에 표시합니다
										displayCircleDot(clickPosition, 0);

											
									} else { // 선이 그려지고 있는 상태이면

										// 그려지고 있는 선의 좌표 배열을 얻어옵니다
										var path = clickLine.getPath();

										// 좌표 배열에 클릭한 위치를 추가합니다
										path.push(clickPosition);
										
										// 다시 선에 좌표 배열을 설정하여 클릭 위치까지 선을 그리도록 설정합니다
										clickLine.setPath(path);

										var distance = Math.round(clickLine.getLength());
										displayCircleDot(clickPosition, distance);
									}
								});
									
								// 지도에 마우스무브 이벤트를 등록합니다
								// 선을 그리고있는 상태에서 마우스무브 이벤트가 발생하면 그려질 선의 위치를 동적으로 보여주도록 합니다
								kakao.maps.event.addListener(map, 'mousemove', function (mouseEvent) {

									// 지도 마우스무브 이벤트가 발생했는데 선을 그리고있는 상태이면
									if (drawingFlag){
										
										// 마우스 커서의 현재 위치를 얻어옵니다 
										var mousePosition = mouseEvent.latLng; 

										// 마우스 클릭으로 그려진 선의 좌표 배열을 얻어옵니다
										var path = clickLine.getPath();
										
										// 마우스 클릭으로 그려진 마지막 좌표와 마우스 커서 위치의 좌표로 선을 표시합니다
										var movepath = [path[path.length-1], mousePosition];
										moveLine.setPath(movepath);    
										moveLine.setMap(map);
										
										var distance = Math.round(clickLine.getLength() + moveLine.getLength()), // 선의 총 거리를 계산합니다
											content = '<div class="dotOverlay distanceInfo">총거리 <span class="number">' + distance + '</span>m</div>'; // 커스텀오버레이에 추가될 내용입니다
										
										// 거리정보를 지도에 표시합니다
										showDistance(content, mousePosition);   
									}             
								});                 

								// 지도에 마우스 오른쪽 클릭 이벤트를 등록합니다
								// 선을 그리고있는 상태에서 마우스 오른쪽 클릭 이벤트가 발생하면 선 그리기를 종료합니다
								kakao.maps.event.addListener(map, 'rightclick', function (mouseEvent) {

									// 지도 오른쪽 클릭 이벤트가 발생했는데 선을 그리고있는 상태이면
									if (drawingFlag) {
										
										// 마우스무브로 그려진 선은 지도에서 제거합니다
										moveLine.setMap(null);
										moveLine = null;  
										
										// 마우스 클릭으로 그린 선의 좌표 배열을 얻어옵니다
										var path = clickLine.getPath();
									
										// 선을 구성하는 좌표의 개수가 2개 이상이면
										if (path.length > 1) {

											// 마지막 클릭 지점에 대한 거리 정보 커스텀 오버레이를 지웁니다
											if (dots[dots.length-1].distance) {
												dots[dots.length-1].distance.setMap(null);
												dots[dots.length-1].distance = null;    
											}

											var distance = Math.round(clickLine.getLength()), // 선의 총 거리를 계산합니다
												content = getTimeHTML(distance); // 커스텀오버레이에 추가될 내용입니다
												
											// 그려진 선의 거리정보를 지도에 표시합니다
											showDistance(content, path[path.length-1]);  
											
										} else {

											// 선을 구성하는 좌표의 개수가 1개 이하이면 
											// 지도에 표시되고 있는 선과 정보들을 지도에서 제거합니다.
											deleteClickLine();
											deleteCircleDot(); 
											deleteDistnce();

										}
										
										// 상태를 false로, 그리지 않고 있는 상태로 변경합니다
										drawingFlag = false;          
									}  
								});    

								// 클릭으로 그려진 선을 지도에서 제거하는 함수입니다
								function deleteClickLine() {
									if (clickLine) {
										clickLine.setMap(null);    
										clickLine = null;        
									}
								}

								// 마우스 드래그로 그려지고 있는 선의 총거리 정보를 표시하거
								// 마우스 오른쪽 클릭으로 선 그리가 종료됐을 때 선의 정보를 표시하는 커스텀 오버레이를 생성하고 지도에 표시하는 함수입니다
								function showDistance(content, position) {
									
									if (distanceOverlay) { // 커스텀오버레이가 생성된 상태이면
										
										// 커스텀 오버레이의 위치와 표시할 내용을 설정합니다
										distanceOverlay.setPosition(position);
										distanceOverlay.setContent(content);
										
									} else { // 커스텀 오버레이가 생성되지 않은 상태이면
										
										// 커스텀 오버레이를 생성하고 지도에 표시합니다
										distanceOverlay = new kakao.maps.CustomOverlay({
											map: map, // 커스텀오버레이를 표시할 지도입니다
											content: content,  // 커스텀오버레이에 표시할 내용입니다
											position: position, // 커스텀오버레이를 표시할 위치입니다.
											xAnchor: 0,
											yAnchor: 0,
											zIndex: 3  
										});      
									}
								}

								// 그려지고 있는 선의 총거리 정보와 
								// 선 그리가 종료됐을 때 선의 정보를 표시하는 커스텀 오버레이를 삭제하는 함수입니다
								function deleteDistnce () {
									if (distanceOverlay) {
										distanceOverlay.setMap(null);
										distanceOverlay = null;
									}
								}

								// 선이 그려지고 있는 상태일 때 지도를 클릭하면 호출하여 
								// 클릭 지점에 대한 정보 (동그라미와 클릭 지점까지의 총거리)를 표출하는 함수입니다
								function displayCircleDot(position, distance) {

									// 클릭 지점을 표시할 빨간 동그라미 커스텀오버레이를 생성합니다
									var circleOverlay = new kakao.maps.CustomOverlay({
										content: '<span class="dot"></span>',
										position: position,
										zIndex: 1
									});

									// 지도에 표시합니다
									circleOverlay.setMap(map);

									if (distance > 0) {
										// 클릭한 지점까지의 그려진 선의 총 거리를 표시할 커스텀 오버레이를 생성합니다
										var distanceOverlay = new kakao.maps.CustomOverlay({
											content: '<div class="dotOverlay">거리 <span class="number">' + distance + '</span>m</div>',
											position: position,
											yAnchor: 1,
											zIndex: 2
										});

										// 지도에 표시합니다
										distanceOverlay.setMap(map);
									}

									// 배열에 추가합니다
									dots.push({circle:circleOverlay, distance: distanceOverlay});
								}

								// 클릭 지점에 대한 정보 (동그라미와 클릭 지점까지의 총거리)를 지도에서 모두 제거하는 함수입니다
								function deleteCircleDot() {
									var i;

									for ( i = 0; i < dots.length; i++ ){
										if (dots[i].circle) { 
											dots[i].circle.setMap(null);
										}

										if (dots[i].distance) {
											dots[i].distance.setMap(null);
										}
									}

									dots = [];
								}

								// 마우스 우클릭 하여 선 그리기가 종료됐을 때 호출하여 
								// 그려진 선의 총거리 정보와 거리에 대한 도보, 자전거 시간을 계산하여
								// HTML Content를 만들어 리턴하는 함수입니다
								function getTimeHTML(distance) {

									// 도보의 시속은 평균 4km/h 이고 도보의 분속은 67m/min입니다
									var walkkTime = distance / 67 | 0;
									var walkHour = '', walkMin = '';

									// 계산한 도보 시간이 60분 보다 크면 시간으로 표시합니다
									if (walkkTime > 60) {
										walkHour = '<span class="number">' + Math.floor(walkkTime / 60) + '</span>시간 '
									}
									walkMin = '<span class="number">' + walkkTime % 60 + '</span>분'

									// 자전거의 평균 시속은 16km/h 이고 이것을 기준으로 자전거의 분속은 267m/min입니다
									var bycicleTime = distance / 227 | 0;
									var bycicleHour = '', bycicleMin = '';

									// 계산한 자전거 시간이 60분 보다 크면 시간으로 표출합니다
									if (bycicleTime > 60) {
										bycicleHour = '<span class="number">' + Math.floor(bycicleTime / 60) + '</span>시간 '
									}
									bycicleMin = '<span class="number">' + bycicleTime % 60 + '</span>분'

									// 거리와 도보 시간, 자전거 시간을 가지고 HTML Content를 만들어 리턴합니다
									var content = '<ul class="dotOverlay distanceInfo">';
									content += '    <li>';
									content += '        <span class="label">총거리</span><span class="number">' + distance + '</span>m';
									content += '    </li>';
									content += '    <li>';
									content += '        <span class="label">도보</span>' + walkHour + walkMin;
									content += '    </li>';
									content += '    <li>';
									content += '        <span class="label">자전거</span>' + bycicleHour + bycicleMin;
									content += '    </li>';
									content += '</ul>'

									return content;
								}
								
							</script>
							<style>
								.dot {overflow:hidden;float:left;width:12px;height:12px;background: url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/mini_circle.png');}    
								.dotOverlay {position:relative;bottom:10px;border-radius:6px;border: 1px solid #ccc;border-bottom:2px solid #ddd;float:left;font-size:12px;padding:5px;background:#030101;}
								.dotOverlay:nth-of-type(n) {border:0; box-shadow:0px 1px 2px #888;}    
								.number {font-weight:bold;color:#ee6152;}
								.dotOverlay:after {content:'';position:absolute;margin-left:-6px;left:50%;bottom:-8px;width:11px;height:8px;background:url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/vertex_white_small.png')}
								.distanceInfo {position:relative;top:5px;left:5px;list-style:none;margin:0;}
								.distanceInfo .label {display:inline-block;width:50px;}
								.distanceInfo:after {content:none;}
								</style>
						</div>
					</div>
				</div>

			</div>
			</main>
			<!-- Main footer -->
			<footer class="flex items-center justify-between p-4 bg-white border-t dark:bg-darker dark:border-primary-darker">
			<div>
				K-WD &copy; 2021
			</div>
			<div>
				 Made by <a href="https://github.com/Dexxxn/Medical_Temp_Dashboard" target="_blank" class="text-blue-500 hover:underline">Team KSH</a>
			</div>
			</footer>
		</div>
		<!-- Panels -->
		<!-- Settings Panel -->
		<!-- Backdrop -->
		<div x-transition:enter="transition duration-300 ease-in-out" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="transition duration-300 ease-in-out" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" x-show="isSettingsPanelOpen" @click="isSettingsPanelOpen=false" class="fixed inset-0 z-10 bg-primary-darker" style="opacity: 0.5" aria-hidden="true">
		</div>
		<!-- Panel -->
		<section x-transition:enter="transition duration-300 ease-in-out transform sm:duration-500" x-transition:enter-start="translate-x-full" x-transition:enter-end="translate-x-0" x-transition:leave="transition duration-300 ease-in-out transform sm:duration-500" x-transition:leave-start="translate-x-0" x-transition:leave-end="translate-x-full" x-ref="settingsPanel" tabindex="-1" x-show="isSettingsPanelOpen" @keydown.escape="isSettingsPanelOpen=false" class="fixed inset-y-0 right-0 z-20 w-full max-w-xs bg-white shadow-xl dark:bg-darker dark:text-light sm:max-w-md focus:outline-none" aria-labelledby="settinsPanelLabel">
		<div class="absolute left-0 p-2 transform -translate-x-full">
			<!-- Close button -->
			<button @click="isSettingsPanelOpen=false" class="p-2 text-white rounded-md focus:outline-none focus:ring">
			<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
			<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
			</svg>
			</button>
		</div>
		<!-- Panel content -->
		<div class="flex flex-col h-screen">
			<!-- Panel header -->
			<div class="flex flex-col items-center justify-center flex-shrink-0 px-4 py-8 space-y-4 border-b dark:border-primary-dark">
				<span aria-hidden="true" class="text-gray-500 dark:text-primary">
				<svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>
				</svg>
				</span>
				<h2 id="settinsPanelLabel" class="text-xl font-medium text-gray-500 dark:text-light">Settings</h2>
			</div>
			<!-- Content -->
			<div class="flex-1 overflow-hidden hover:overflow-y-auto">
				<!-- Theme -->
				<div class="p-4 space-y-4 md:p-8">
					<h6 class="text-lg font-medium text-gray-400 dark:text-light">Mode</h6>
					<div class="flex items-center space-x-8">
						<!-- Light button -->
						<button @click="setLightTheme" class="flex items-center justify-center px-4 py-2 space-x-4 transition-colors border rounded-md hover:text-gray-900 hover:border-gray-900 dark:border-primary dark:hover:text-primary-100 dark:hover:border-primary-light focus:outline-none focus:ring focus:ring-primary-lighter focus:ring-offset-2 dark:focus:ring-offset-dark dark:focus:ring-primary-dark" :class="{ 'border-gray-900 text-gray-900 dark:border-primary-light dark:text-primary-100': !isDark, 'text-gray-500 dark:text-primary-light': isDark }">
						<span>
						<svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
						</svg>
						</span>
						<span>Light</span>
						</button>
						<!-- Dark button -->
						<button @click="setDarkTheme" class="flex items-center justify-center px-4 py-2 space-x-4 transition-colors border rounded-md hover:text-gray-900 hover:border-gray-900 dark:border-primary dark:hover:text-primary-100 dark:hover:border-primary-light focus:outline-none focus:ring focus:ring-primary-lighter focus:ring-offset-2 dark:focus:ring-offset-dark dark:focus:ring-primary-dark" :class="{ 'border-gray-900 text-gray-900 dark:border-primary-light dark:text-primary-100': isDark, 'text-gray-500 dark:text-primary-light': !isDark }">
						<span>
						<svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
						</svg>
						</span>
						<span>Dark</span>
						</button>
					</div>
				</div>
				<!-- Colors -->
				<div class="p-4 space-y-4 md:p-8">
					<h6 class="text-lg font-medium text-gray-400 dark:text-light">Colors</h6>
					<div>
						<button @click="setColors('cyan')" class="w-10 h-10 rounded-full" style="background-color: var(--color-cyan)"></button>
						<button @click="setColors('teal')" class="w-10 h-10 rounded-full" style="background-color: var(--color-teal)"></button>
						<button @click="setColors('green')" class="w-10 h-10 rounded-full" style="background-color: var(--color-green)"></button>
						<button @click="setColors('fuchsia')" class="w-10 h-10 rounded-full" style="background-color: var(--color-fuchsia)"></button>
						<button @click="setColors('blue')" class="w-10 h-10 rounded-full" style="background-color: var(--color-blue)"></button>
						<button @click="setColors('violet')" class="w-10 h-10 rounded-full" style="background-color: var(--color-violet)"></button>
					</div>
				</div>
			</div>
		</div>
		</section>
	</div>
	
</div>
<!-- All javascript code in this project for now is just for demo DON'T RELY ON IT  -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.bundle.min.js"></script>
<script src="{{url_for('static', filename='js/script.js')}}"></script>
<script>
      const setup = () => {
        const getTheme = () => {
          if (window.localStorage.getItem('dark')) {
            return JSON.parse(window.localStorage.getItem('dark'))
          }
          return !!window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        }
        const setTheme = (value) => {
          window.localStorage.setItem('dark', value)
        }
        const getColor = () => {
          if (window.localStorage.getItem('color')) {
            return window.localStorage.getItem('color')
          }
          return 'cyan'
        }
        const setColors = (color) => {
          const root = document.documentElement
          root.style.setProperty('--color-primary', `var(--color-cyan)`)	// `var(--color-${color})`
          root.style.setProperty('--color-primary-50', `var(--color-cyan-50)`)
          root.style.setProperty('--color-primary-100', `var(--color-cyan-100)`)
          root.style.setProperty('--color-primary-light', `var(--color-cyan-light)`)
          root.style.setProperty('--color-primary-lighter', `var(--color-cyan-lighter)`)
          root.style.setProperty('--color-primary-dark', `var(--color-cyan-dark)`)
          root.style.setProperty('--color-primary-darker', `var(--color-cyan-darker)`)
          this.selectedColor = color
          window.localStorage.setItem('color', color)
          //
        }
        const updateBarChart = (on) => {
          const data = {
            data: randomData(),
            backgroundColor: 'rgb(207, 250, 254)',
          }
          if (on) {
            barChart.data.datasets.push(data)
            barChart.update()
          } else {
            barChart.data.datasets.splice(1)
            barChart.update()
          }
        }
        const updateDoughnutChart = (on) => {
          const data = random()
          const color = 'rgb(207, 250, 254)'
          if (on) {
            doughnutChart.data.labels.unshift('Seb')
            doughnutChart.data.datasets[0].data.unshift(data)
            doughnutChart.data.datasets[0].backgroundColor.unshift(color)
            doughnutChart.update()
          } else {
            doughnutChart.data.labels.splice(0, 1)
            doughnutChart.data.datasets[0].data.splice(0, 1)
            doughnutChart.data.datasets[0].backgroundColor.splice(0, 1)
            doughnutChart.update()
          }
        }
        const updateLineChart = () => {
          lineChart.data.datasets[0].data.reverse()
          lineChart.update()
        }
        return {
          loading: true,
          isDark: getTheme(),
          toggleTheme() {
            this.isDark = !this.isDark
            setTheme(this.isDark)
          },
          setLightTheme() {
            this.isDark = false
            setTheme(this.isDark)
          },
          setDarkTheme() {
            this.isDark = true
            setTheme(this.isDark)
          },
          color: getColor(),
          selectedColor: 'cyan',
          setColors,
          toggleSidbarMenu() {
            this.isSidebarOpen = !this.isSidebarOpen
          },
          isSettingsPanelOpen: false,
          openSettingsPanel() {
            this.isSettingsPanelOpen = true
            this.$nextTick(() => {
              this.$refs.settingsPanel.focus()
            })
          },
          isNotificationsPanelOpen: false,
          openNotificationsPanel() {
            this.isNotificationsPanelOpen = true
            this.$nextTick(() => {
              this.$refs.notificationsPanel.focus()
            })
          },
          isSearchPanelOpen: false,
          openSearchPanel() {
            this.isSearchPanelOpen = true
            this.$nextTick(() => {
              this.$refs.searchInput.focus()
            })
          },
          isMobileSubMenuOpen: false,
          openMobileSubMenu() {
            this.isMobileSubMenuOpen = true
            this.$nextTick(() => {
              this.$refs.mobileSubMenu.focus()
            })
          },
          isMobileMainMenuOpen: false,
          openMobileMainMenu() {
            this.isMobileMainMenuOpen = true
            this.$nextTick(() => {
              this.$refs.mobileMainMenu.focus()
            })
          },
          updateBarChart,
          updateDoughnutChart,
          updateLineChart,
        }
      }
      
    </script>
</body>
</html>